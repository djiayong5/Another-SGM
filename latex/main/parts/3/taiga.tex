\section{Использование библиотеки \emph{O-State} в ядре \emph{Taiga} системы \emph{PCMS4}}

Система \emph{PCMS} предназначена для автоматического тестирования задач по информатике
и программированию. Система используется при проведении олимпиад и чемпионатов 
различного уровня, например, при проведении Всероссийской олимпиады по информатике и
полуфинала NEERC международного чемпионата по программированию ACM ICPC. В настоящее время
идет разработка четвертой версии системы.

Одна из основных особенностей системы --- компонентная реализация, при которой
компоненты могут работать независимо друг от друга. Таким образом, если
одна из компонент выйдет из строя, она может быть исправлена и перезапущена.
При этом компоненты, не использующие ее, в перезапуске не нуждаются.

Ядро системы \emph{PCMS4}, которое носит название \emph{Taiga}, предназначено для
обеспечения взаимодействия компонент (поддержка динамического запуска, остановки и
перезапуска компонент, прослеживание их зависимостей друг от друга, динамическое
подключение друг к другу и~т.д.).

Жизненный цикл компоненты довольно сложен: компонента ожидает, пока будут
зарегистрированы все необходимые ей сервисы, затем стартует, работает и,
при необходимости, останавливает работу. Общий жизненный цикл компоненты представлен 
на рис.~\ref{component_lifecycle}. 

Выбор диаграмм состояний как метода формального описания жизненного цикла компонент
обоснован в работе~\cite{Mavrin06ComponentLifecycles}.

\drawfigurex{}{width=155mm}{pic/ComponentLifecycle.eps}{Жизненный цикл компоненты PCMS4}{component_lifecycle}

Таким образом, часть ядра \emph{Taiga} должна следить за текущим состоянием 
каждой компоненты и реализовать логику ее жизненного цикла.

В предыдущих версиях системы эта часть ядра писалась традиционным образом, с 
использованием флагов, а так как она, как отмечено выше, реализует сложную логику, то
уверенность в правильности ее работы во всех режимах отсутствовала.

Для устранения этого недостатка, во-первых, функциональность этой части ядра была 
формально специфицирована с помощью диаграммы состояний, описывающей ее жизненный
цикл, а во-вторых, эта диаграмма была корректно реализована с помощью разработанной
в настоящей работе библиотеки \emph{O-State}.

Исходные коды разработанной библиотеки приведены на сайте http://is.ifmo.ru/ в разделе
<<Работы>>.